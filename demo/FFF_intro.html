<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>FFF入门</title>
    <script src="http://192.168.112.94/fff/lib/require.js"></script>
    <script src="http://192.168.112.94/fff/yhd_mxc.js"></script>
</head>

<body>
    <script>
    require(['FFF', 'zepto'], function(FFF,$) {

        var F = FFF.FFF;
        var Widget = F.Widget;

        function Box() {
            Widget.apply(this,arguments);
        }
        Box.ATTRS = {
            boundingBox: {
                value: $('<div class="box"></div>')
            },
            width: {
                value: 100,
                changeFn: function(obj) {
                    console.log("我之前的宽度是:" + obj.preValue);
                    console.log("我现在的宽度是:" + obj.value);
                }
            },
            area: {
                valueFn: function() {
                    return this.getWidth() * this.getWidth();
                }
            }
        }
        F.extend(Box, Widget, {
            initialize: function() {
                this.setWidth(120);
            },
            renderUI: function() {
                var that = this;
                this.getBoundingBox().css({
                    'background': 'green',
                    'width':that.getWidth(),
                    'height':that.getWidth()
                });
            },
            bindUI: function() {
                var that = this;
                this.on('widthChange', function() {
                    that.getBoundingBox().css('width', that.getWidth());
                    that.getBoundingBox().css('height', that.getWidth());
                });
                this.getBoundingBox().on('click', function() {
                    that.setWidth(that.getWidth() + 1);
                });
            },
            syncUI: function() {

            },
            destructor: function() {
                console.log('我准备销毁自己了！');
            },
            render: function() {
                //这里不改写父类的render方法。
                this.callParent();
            }
        })
        var box = new Box();
        box.render();
    });
    </script>
</body>
</html>
